import{r as a,j as e,L as h,M as y}from"./index-BOXjQrCM.js";const T="_container_1w8kr_1",E="_header_1w8kr_10",P="_tabs_1w8kr_23",$="_tab_1w8kr_23",A="_tabActive_1w8kr_47",G="_inputSection_1w8kr_53",q="_label_1w8kr_59",F="_select_1w8kr_67",L="_input_1w8kr_53",M="_textarea_1w8kr_97",O="_btn_1w8kr_114",z="_spin_1w8kr_140",B="_error_1w8kr_148",J="_resultSection_1w8kr_157",s={container:T,header:E,tabs:P,tab:$,tabActive:A,inputSection:G,label:q,select:F,input:L,textarea:M,btn:O,spin:z,error:B,resultSection:J},Q=["Reports","Case Studies","RFP Generator"],w=["Brand Health Summary","Market Landscape","Competitive Analysis","Trend Report","Executive Brief"];function I({apiUrl:l}){const[i,v]=a.useState("Reports"),[n,b]=a.useState(!1),[x,u]=a.useState(""),[S,d]=a.useState(""),[j,N]=a.useState(w[0]),[p,R]=a.useState(""),[_,g]=a.useState(""),f={"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},m=async(t,k,C="POST")=>{b(!0),d(""),u("");try{const r={method:C,headers:f};k&&(r.body=JSON.stringify(k));const o=await fetch(t,r);if(!o.ok)throw new Error(`${o.status} ${o.statusText}`);const c=await o.json();u(c.result||c.report||c.response||c.content||JSON.stringify(c,null,2))}catch(r){d(r instanceof Error?r.message:"Request failed")}finally{b(!1)}};return e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.header,children:[e.jsx("h1",{children:"Reports"}),e.jsx("p",{children:"Generate reports, explore case studies, and build RFP responses"})]}),e.jsx("div",{className:s.tabs,children:Q.map(t=>e.jsx("button",{className:`${s.tab} ${i===t?s.tabActive:""}`,onClick:()=>{v(t),u(""),d("")},children:t},t))}),i==="Reports"&&e.jsxs("div",{className:s.inputSection,children:[e.jsx("label",{className:s.label,children:"Report Template"}),e.jsx("select",{className:s.select,value:j,onChange:t=>N(t.target.value),children:w.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsxs("button",{className:s.btn,onClick:()=>m(`${l}/klaus/imi/report/generate`,{template:j}),disabled:n,children:[n?e.jsx(h,{size:16,className:s.spin}):null,"Generate Report"]})]}),i==="Case Studies"&&e.jsxs("div",{className:s.inputSection,children:[e.jsx("input",{className:s.input,placeholder:"Search case studies (e.g. brand awareness, Germany, automotive)...",value:p,onChange:t=>R(t.target.value)}),e.jsxs("button",{className:s.btn,onClick:()=>m(`${l}/klaus/imi/case-studies/search?q=${encodeURIComponent(p)}`,void 0,"GET"),disabled:n||!p.trim(),children:[n?e.jsx(h,{size:16,className:s.spin}):null,"Search"]})]}),i==="RFP Generator"&&e.jsxs("div",{className:s.inputSection,children:[e.jsx("textarea",{className:s.textarea,placeholder:"Paste RFP requirements or describe what the client needs...",value:_,onChange:t=>g(t.target.value),rows:5}),e.jsxs("button",{className:s.btn,onClick:()=>m(`${l}/klaus/imi/rfp/generate`,{requirements:_}),disabled:n||!_.trim(),children:[n?e.jsx(h,{size:16,className:s.spin}):null,"Generate RFP Response"]})]}),S&&e.jsx("div",{className:s.error,children:S}),x&&e.jsx("div",{className:s.resultSection,children:e.jsx(y,{content:x})})]})}export{I as default};
